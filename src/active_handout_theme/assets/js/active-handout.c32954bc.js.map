{"mappings":"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","sources":["src/active_handout_theme/assets_src/js/active-handout.js","src/active_handout_theme/assets_src/js/tabbed-content/index.js","src/active_handout_theme/assets_src/js/progress/index.js","src/active_handout_theme/assets_src/js/client-db.js","src/active_handout_theme/assets_src/js/telemetry.js","src/active_handout_theme/assets_src/js/menu/index.js","src/active_handout_theme/assets_src/js/breakpoints.js","src/active_handout_theme/assets_src/js/exercise/index.js","src/active_handout_theme/assets_src/js/exercise/queries.js","src/active_handout_theme/assets_src/js/footnote/index.js","src/active_handout_theme/assets_src/js/parsons/index.js","src/active_handout_theme/assets_src/js/parsons/queries.js","src/active_handout_theme/assets_src/js/parsons/utils.js","src/active_handout_theme/assets_src/js/dom-utils.js","src/active_handout_theme/assets_src/js/style.js"],"sourcesContent":["import { initTabbedPlugin } from \"./tabbed-content\";\nimport { initProgressPlugin } from \"./progress\";\nimport { initMenuPlugin } from \"./menu\";\nimport { initExercisePlugin } from \"./exercise\";\nimport { initFooterPlugin } from \"./footnote\";\nimport { initParsonsPlugin } from \"./parsons\";\nimport { initStyle } from \"./style\";\n\nfunction onLoad() {\n  initTabbedPlugin();\n\n  let rememberCallbacks = [];\n\n  window.addEventListener(\"remember\", function (e) {\n    const element = e.detail.element;\n    for (let remember of rememberCallbacks) {\n      if (remember.match(element)) {\n        const stop = remember.callback(element, e.detail.args);\n        if (stop) break;\n      }\n    }\n  });\n\n  initStyle();\n  initMenuPlugin();\n  initProgressPlugin(rememberCallbacks);\n  initParsonsPlugin(rememberCallbacks);\n  initExercisePlugin(rememberCallbacks);\n  initFooterPlugin(rememberCallbacks);\n}\n\nif (document.readyState !== \"loading\") {\n  onLoad();\n} else {\n  document.addEventListener(\"DOMContentLoaded\", onLoad);\n}\n","// Source: https://facelessuser.github.io/pymdown-extensions/extensions/tabbed/\n// Identify whether a tab bar can be scrolled left or right and apply indicator classes\nconst tabOverflow = () => {\n  const checkScroll = (e) => {\n    // Use a margin as we just don't always align exactly on the right.\n    const margin = 3;\n    const target = e.target;\n    if (!e.target.matches(\".tabbed-labels\")) {\n      return;\n    }\n\n    const scrollWidth = target.scrollWidth - target.clientWidth;\n    target.classList.remove(\n      \"tabbed-scroll\",\n      \"tabbed-scroll-left\",\n      \"tabbed-scroll-right\"\n    );\n    if (e.type === \"resize\" || e.type === \"scroll\") {\n      if (scrollWidth === 0) {\n        return;\n      }\n      target.classList.add(\"tabbed-scroll\");\n      if (!target.scrollLeft) {\n        target.classList.add(\"tabbed-scroll-right\");\n      } else if (target.scrollLeft < scrollWidth - margin) {\n        target.classList.add(\"tabbed-scroll-left\", \"tabbed-scroll-right\");\n      } else {\n        target.classList.add(\"tabbed-scroll-left\");\n      }\n    }\n  };\n\n  // Change the tab to either the previous or next input - depending on which indicator was clicked.\n  // Make sure the current, selected input is scrolled into view.\n  const tabChange = (e) => {\n    const target = e.target;\n    const selected = target\n      .closest(\".tabbed-set\")\n      .querySelector(\"input:checked\");\n    let updated = null;\n\n    if (\n      target.classList.contains(\"tabbed-scroll-right\") &&\n      e.offsetX >= e.target.offsetWidth - 15\n    ) {\n      const sib = selected.nextSibling;\n      updated = selected;\n      if (sib && sib.tagName === \"INPUT\") {\n        updated = sib;\n      }\n    } else if (\n      target.classList.contains(\"tabbed-scroll-left\") &&\n      e.offsetX <= 15\n    ) {\n      const sib = selected.previousSibling;\n      updated = selected;\n      if (sib && sib.tagName === \"INPUT\") {\n        updated = sib;\n      }\n    }\n    if (updated) {\n      updated.click();\n    }\n  };\n\n  const onResize = new ResizeObserver((entries) => {\n    entries.forEach((entry) => {\n      checkScroll({ target: entry.target, type: \"resize\" });\n    });\n  });\n\n  const labels = document.querySelectorAll(\n    \".tabbed-alternate > .tabbed-labels\"\n  );\n  labels.forEach((el) => {\n    checkScroll({ target: el, type: \"resize\" });\n    onResize.observe(el);\n    el.addEventListener(\"resize\", checkScroll);\n    el.addEventListener(\"scroll\", checkScroll);\n    el.addEventListener(\"click\", tabChange);\n  });\n};\n\n// Smooth scroll tab into view when changed\nconst tabScroll = () => {\n  const tabs = document.querySelectorAll(\".tabbed-alternate > input\");\n  for (const tab of tabs) {\n    tab.addEventListener(\"change\", () => {\n      const label = document.querySelector(`label[for=${tab.id}]`);\n      label.scrollIntoView({\n        block: \"nearest\",\n        inline: \"nearest\",\n        behavior: \"smooth\",\n      });\n    });\n  }\n};\n\nexport function initTabbedPlugin() {\n  tabOverflow();\n  tabScroll();\n}\n","import { getValue } from \"../client-db\";\nimport { saveAndSendData } from \"../telemetry\";\n\nexport function initProgressPlugin(rememberCallbacks) {\n  rememberCallbacks.push({\n    match: (el) => el.classList.contains(\"progress\"),\n    callback: (el) => {\n      saveAndSendData(el, true);\n    },\n  });\n\n  queryProgressBtns().forEach((e) => {\n    if (getValue(e)) {\n      e.click();\n    }\n  });\n}\n\nfunction queryProgressBtns() {\n  return document.querySelectorAll(\"button.progress\");\n}\n","function getKey(elOrKey) {\n  if (typeof elOrKey === \"string\") {\n    return elOrKey;\n  }\n  const docAddr = document.location.pathname;\n  const slash = docAddr.endsWith(\"/\") ? \"\" : \"/\";\n  return `${docAddr}${slash}${elOrKey.id}`;\n}\n\nexport function setValue(elOrKey, value) {\n  const key = getKey(elOrKey);\n  localStorage[key] = value;\n}\n\nexport function getValue(elOrKey) {\n  const key = getKey(elOrKey);\n  return localStorage.getItem(key);\n}\n","import { setValue } from \"./client-db\";\n\nexport function saveAndSendData(elOrKey, value) {\n  setValue(elOrKey, value);\n  let dataCollectionURL = \"{{ config.extra.telemetry_url }}\";\n  // TODO: fetch POST with token\n}\n","import { getValue, setValue } from \"../client-db\";\nimport { getBreakpoint } from \"../breakpoints\";\n\nconst btnClass = \"ah-menu-btn\";\nconst navClass = \"ah-navigation\";\nconst menuOpenedKey = \"menu-opened\";\n\nexport function initMenuPlugin() {\n  const nav = document.getElementsByClassName(navClass)[0];\n  const navContainer = nav.getElementsByClassName(\"ah-nav-container\")[0];\n  const menuBtns = document.getElementsByClassName(btnClass);\n  const closeMenuBtn = document.getElementsByClassName(\"close-menu\")[0];\n\n  if (prefersOpenMenu() && !menuIsOverContent()) {\n    openMenu();\n  }\n\n  for (let menuBtn of menuBtns) {\n    menuBtn.addEventListener(\"click\", function (event) {\n      event.stopPropagation();\n      toggleMenu(menuBtn);\n    });\n  }\n\n  const togglableItems = document.getElementsByClassName(\"ah-togglable-item\");\n  for (let item of togglableItems) {\n    const handle = item.getElementsByClassName(\"ah-togglable-handle\")[0];\n    handle.addEventListener(\"click\", function (event) {\n      event.stopPropagation();\n      item.classList.toggle(\"opened\");\n    });\n  }\n\n  const tocItems = document.getElementsByClassName(\"ah-toc-item\");\n  for (let item of tocItems) {\n    item.addEventListener(\"click\", function () {\n      if (menuIsOverContent()) {\n        closeMenu();\n      }\n    });\n  }\n\n  closeMenuBtn.addEventListener(\"click\", closeMenu);\n\n  document.addEventListener(\"click\", function (event) {\n    if (!nav.classList.contains(\"show\") || !menuIsOverContent()) return;\n    if (!navContainer.contains(event.target)) {\n      closeMenu();\n    }\n  });\n}\n\nfunction isMenuOpened() {\n  return getNav().classList.contains(\"show\");\n}\n\nfunction menuIsOverContent() {\n  return window.innerWidth <= getBreakpoint(\"large\");\n}\n\nfunction getNav() {\n  return document.getElementsByClassName(navClass)[0];\n}\n\nfunction openMenu() {\n  getNav().classList.add(\"show\");\n  setValue(menuOpenedKey, true);\n}\n\nfunction closeMenu() {\n  getNav().classList.remove(\"show\");\n  setValue(menuOpenedKey, false);\n}\n\nfunction prefersOpenMenu() {\n  const openedPref = getValue(menuOpenedKey);\n  return openedPref && openedPref == \"true\";\n}\n\nfunction toggleMenu(menuBtn) {\n  if (isMenuOpened(menuBtn)) {\n    closeMenu();\n  } else {\n    openMenu();\n  }\n}\n","export function getBreakpoint(name, defaultVal) {\n  return parseInt(\n    window\n      .getComputedStyle(document.documentElement)\n      .getPropertyValue(`--breakpoint-${name}`, defaultVal)\n  );\n}\n","import { getValue } from \"../client-db\";\nimport { saveAndSendData } from \"../telemetry\";\nimport {\n  queryChoiceExercises,\n  querySelfProgressExercises,\n  queryOption,\n  queryOptions,\n  querySubmitBtn,\n  queryTextInputs,\n  queryTextExercises,\n  queryCorrectOptionIdx,\n  queryParentAlternative,\n} from \"./queries\";\n\nexport function initExercisePlugin(rememberCallbacks) {\n  rememberCallbacks.push(\n    {\n      match: matchTextExercises,\n      callback: rememberTextExercise,\n    },\n    {\n      match: matchChoiceExercises,\n      callback: rememberChoiceExercise,\n    },\n    {\n      match: matchSelfProgressExercises,\n      callback: rememberSelfProgressExercise,\n    }\n  );\n\n  initTextExercises();\n  initChoiceExercises();\n  initSelfProgressExercises();\n}\n\nfunction initTextExercises() {\n  queryTextExercises().forEach((el) => {\n    const prevAnswer = getValue(el);\n    if (prevAnswer !== null) {\n      const input = queryTextInputs(el);\n      input.value = prevAnswer;\n      const growWrap = input.closest(\".grow-wrap\");\n      if (growWrap) {\n        growWrap.dataset.replicatedValue = prevAnswer;\n      }\n\n      querySubmitBtn(el).click();\n    }\n  });\n}\n\nfunction matchTextExercises(el) {\n  return (\n    el.classList.contains(\"short\") ||\n    el.classList.contains(\"medium\") ||\n    el.classList.contains(\"long\")\n  );\n}\n\nfunction rememberTextExercise(el) {\n  const textElement = queryTextInputs(el);\n  saveAndSendData(el, textElement.value);\n  return true;\n}\n\nfunction initChoiceExercises() {\n  queryChoiceExercises().forEach((el) => {\n    const prevAnswer = getValue(el);\n    if (prevAnswer !== null) {\n      const option = queryOption(el, prevAnswer);\n      const alternative = queryParentAlternative(option);\n      option.setAttribute(\"checked\", true);\n      alternative.classList.add(\"selected\");\n      const submitBtn = querySubmitBtn(el);\n      submitBtn.disabled = false;\n      submitBtn.click();\n    }\n  });\n}\n\nfunction matchChoiceExercises(el) {\n  return el.classList.contains(\"choice\");\n}\n\nfunction rememberChoiceExercise(el) {\n  const choices = queryOptions(el);\n  const correctIdx = queryCorrectOptionIdx(el);\n  for (let choice of choices) {\n    const alternative = queryParentAlternative(choice);\n    if (correctIdx === choice.value) {\n      alternative.classList.add(\"correct\");\n    } else {\n      alternative.classList.add(\"wrong\");\n    }\n\n    if (choice.checked) {\n      saveAndSendData(el, choice.value);\n    }\n  }\n\n  return true;\n}\n\nfunction initSelfProgressExercises() {\n  querySelfProgressExercises().forEach((el) => {\n    const prevAnswer = getValue(el);\n    if (prevAnswer !== null) {\n      querySubmitBtn(el).click();\n    }\n  });\n}\n\nfunction matchSelfProgressExercises(el) {\n  return el.classList.contains(\"self-progress\");\n}\n\nfunction rememberSelfProgressExercise(el) {\n  saveAndSendData(el, true);\n  return true;\n}\n","export function queryTextExercises() {\n  return document.querySelectorAll(\n    \"div.admonition.exercise.short, \" +\n      \"div.admonition.exercise.medium, \" +\n      \"div.admonition.exercise.long\"\n  );\n}\n\nexport function queryChoiceExercises() {\n  return document.querySelectorAll(\"div.admonition.exercise.choice\");\n}\n\nexport function querySelfProgressExercises() {\n  return document.querySelectorAll(\"div.admonition.exercise.self-progress\");\n}\n\nexport function queryTextInputs(el) {\n  return el.querySelector(\"input[name='data'], textarea[name='data']\");\n}\n\nexport function queryOptions(el) {\n  return el.querySelectorAll(\"input[name='data'][type='radio']\");\n}\n\nexport function queryCorrectOptionIdx(el) {\n  const alternativeSet = el.querySelector(\".alternative-set\");\n  if (!alternativeSet) return \"\";\n  return alternativeSet.getAttribute(\"data-answer-idx\");\n}\n\nexport function queryOption(el, value) {\n  return el.querySelector(`input[name='data'][value='${value}']`);\n}\n\nexport function queryParentAlternative(option) {\n  return option.closest(\".alternative\");\n}\n\nexport function querySubmitBtn(el) {\n  return el.querySelector(\"input[type='submit']\");\n}\n","import { getBreakpoint } from \"../breakpoints\";\n\n/*\nThe footnote is structured as follows:\n<span class=\"footnote-container\">\n  <a class=\"footnote-anchor\">Referenced text goes here</a>\n  <div class=\"footnote-card\">\n    <li class=\"footnote-content\">Footnote text goes here</li\n  </div>\n</span>\n*/\nexport function initFooterPlugin(rememberCallbacks) {\n  rememberCallbacks.push({\n    match: (el) => el.classList.contains(\"progress\"),\n    callback: (el) => {\n      const className = \"progress-section\";\n      const openedSection = el.closest(`.${className}`).nextElementSibling;\n      if (!openedSection.classList.contains(className)) {\n        return;\n      }\n\n      initFootnotes(openedSection);\n    },\n  });\n\n  initFootnotes(document);\n}\n\nfunction initFootnotes(container) {\n  const contentRect = document\n    .getElementsByClassName(\"ah-content\")[0]\n    .getBoundingClientRect();\n\n  const footnoteLinks = container.querySelectorAll(\n    \".progress-section.show .footnote-ref\"\n  );\n\n  for (let footnoteLink of footnoteLinks) {\n    initFootnote(footnoteLink, contentRect);\n  }\n}\n\nfunction initFootnote(footnoteLink, contentRect) {\n  const footnoteRef = findRef(footnoteLink);\n  const note = findNote(footnoteLink);\n  const footnoteCard = setupCard(note);\n  const footnoteCloseBtn = setupCloseBtn(footnoteCard);\n  const footnoteContainer = setupContainer(footnoteRef, footnoteCard);\n  setupCallbacks(footnoteContainer, footnoteRef, footnoteCloseBtn);\n\n  setCustomProps(footnoteContainer, footnoteCard, contentRect);\n}\n\nfunction setupCard(note) {\n  const footnoteCard = document.createElement(\"div\");\n  footnoteCard.classList.add(\"footnote-card\");\n  note.classList.add(\"footnote-content\");\n  footnoteCard.appendChild(note);\n\n  return footnoteCard;\n}\n\nfunction setupContainer(footnoteRef, footnoteCard) {\n  const footnoteContainer = document.createElement(\"span\");\n  footnoteContainer.classList.add(\"footnote-container\");\n  if (window.innerWidth > getBreakpoint(\"large\", 1440)) {\n    footnoteContainer.classList.add(\"opened\");\n  }\n\n  // Move to container\n  footnoteRef.parentElement.replaceChild(footnoteContainer, footnoteRef);\n  footnoteContainer.appendChild(footnoteRef);\n  footnoteContainer.appendChild(footnoteCard);\n\n  return footnoteContainer;\n}\n\nfunction setupCloseBtn(footnoteCard) {\n  const footnoteCloseBtn = document.createElement(\"button\");\n  footnoteCloseBtn.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 320 512\"><!--! Font Awesome Pro 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d=\"M310.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L160 210.7 54.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L114.7 256 9.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L160 301.3 265.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L205.3 256 310.6 150.6z\"/></svg>`;\n  footnoteCloseBtn.classList.add(\n    \"footnote-close-btn\",\n    \"ah-button\",\n    \"ah-button--borderless\"\n  );\n  footnoteCard.insertBefore(footnoteCloseBtn, footnoteCard.firstChild);\n  return footnoteCloseBtn;\n}\n\nfunction setupCallbacks(footnoteContainer, footnoteRef, footnoteCloseBtn) {\n  const openedClass = \"opened\";\n\n  footnoteRef.classList.add(\"footnote-anchor\");\n  footnoteRef.addEventListener(\"click\", (event) => {\n    event.preventDefault();\n    footnoteContainer.classList.toggle(openedClass);\n  });\n\n  footnoteCloseBtn.addEventListener(\"click\", () => {\n    footnoteContainer.classList.remove(openedClass);\n  });\n}\n\nfunction findRef(footnoteLink) {\n  return footnoteLink.closest(\"sup\").previousElementSibling;\n}\n\nfunction findNote(footnoteLink) {\n  const noteId = footnoteLink.getAttribute(\"href\").substring(1);\n  return document.getElementById(noteId);\n}\n\nfunction setCustomProps(footnoteContainer, footnoteCard, contentRect) {\n  const offsetX = footnoteContainer.getBoundingClientRect().left;\n  const distX = contentRect.right - offsetX;\n  footnoteCard.style.setProperty(\"--dist-x\", `${distX}px`);\n  footnoteCard.style.setProperty(\n    \"--offset-x\",\n    `${offsetX - contentRect.left}px`\n  );\n}\n","import {\n  queryDragArea,\n  queryDropArea,\n  queryParsonsExercises,\n  queryParsonsLines,\n  queryResetButton,\n  querySubmitButton,\n  selectSubslotUnderCursor,\n} from \"./queries\";\nimport {\n  removeDragListeners,\n  cleanUpSlots,\n  createSlot,\n  eventIsInsideExercise,\n  hide,\n  insertLineInSubslot,\n  addDragListeners,\n  setCurrentSubslot,\n  resetExercise,\n  submitExercise,\n} from \"./utils\";\nimport { saveAndSendData } from \"../telemetry\";\n\nexport function initParsonsPlugin(rememberCallbacks) {\n  queryParsonsExercises().forEach(registerListeners);\n\n  rememberCallbacks.push({\n    match: (el) => el.classList.contains(\"parsons\"),\n    callback: (el, { correct }) => {\n      saveAndSendData(el, correct);\n      return true;\n    },\n  });\n}\n\nfunction registerListeners(exercise) {\n  const destArea = queryDropArea(exercise);\n  const origArea = queryDragArea(exercise);\n  let draggedLine = null;\n\n  queryResetButton(exercise).addEventListener(\"click\", () =>\n    resetExercise(exercise)\n  );\n\n  querySubmitButton(exercise).addEventListener(\"click\", () =>\n    submitExercise(exercise)\n  );\n\n  function onDrag(ev) {\n    ev.preventDefault();\n    if (!eventIsInsideExercise(ev, exercise)) return;\n    setCurrentSubslot(selectSubslotUnderCursor(ev, exercise), exercise);\n  }\n\n  function onDrop(ev) {\n    ev.preventDefault();\n    removeDragListeners(onDrag, onDrop);\n\n    if (eventIsInsideExercise(ev, exercise)) {\n      insertLineInSubslot(draggedLine, selectSubslotUnderCursor(ev, exercise));\n    }\n    cleanUpSlots(exercise);\n    draggedLine = null;\n  }\n\n  function onDragStart(ev) {\n    addDragListeners(onDrag, onDrop);\n\n    createSlot(origArea, 1, \"single-subslot\");\n    createSlot(destArea, 6);\n\n    draggedLine = ev.target;\n    hide(draggedLine);\n  }\n\n  queryParsonsLines(exercise).forEach((line) => {\n    line.addEventListener(\"dragstart\", onDragStart);\n  });\n}\n","export function queryParsonsExercises() {\n  return document.querySelectorAll(\"div.admonition.exercise.parsons\");\n}\n\nexport function queryResetButton(exercise) {\n  return exercise.querySelector(\"input[name=resetButton]\");\n}\n\nexport function querySubmitButton(exercise) {\n  return exercise.querySelector(\"input[name=sendButton]\");\n}\n\nexport function queryAnswer(exercise) {\n  return exercise.querySelector(\".admonition.answer\");\n}\n\nexport function queryParsonsContainers(exercise) {\n  return exercise.querySelectorAll(\".parsons-container\");\n}\n\nexport function queryDropArea(exercise) {\n  return exercise.querySelector(\".parsons-drop-area\");\n}\n\nexport function queryDragArea(exercise) {\n  return exercise.querySelector(\".parsons-drag-area\");\n}\n\nexport function queryParsonsLines(container) {\n  return container.querySelectorAll(\".parsons-line\");\n}\n\nexport function queryLastSlot(container) {\n  return container.querySelector(\".line-slot:last-child\");\n}\n\nexport function querySlots(exercise) {\n  return exercise.querySelectorAll(\".line-slot\");\n}\n\nexport function querySubslots(slot) {\n  return slot.querySelectorAll(\".subslot\");\n}\n\nexport function queryEmptySlot(container) {\n  return container.querySelector(\".line-slot:not(.with-line)\");\n}\n\nexport function queryCurrentSlot(exercise) {\n  return exercise.querySelector(\".line-slot.drag-over\");\n}\n\nexport function querySlotFromInside(el) {\n  return el.closest(\".line-slot\");\n}\n\nexport function queryAreaFromInside(el) {\n  return el.closest(\".parsons-area\");\n}\n\nexport function queryContainerFromInside(el) {\n  return el.closest(\".parsons-container\");\n}\n\nexport function selectSlotUnderCursor(ev, exercise) {\n  const slot = selectElementWithClass(ev, \"line-slot\");\n  if (slot) return slot;\n\n  const container = selectElementWithClass(ev, \"parsons-container\");\n  if (container) return queryEmptySlot(container);\n\n  return queryCurrentSlot(exercise);\n}\n\nexport function selectSubslotUnderCursor(ev, exercise) {\n  const subslot = selectElementWithClass(ev, \"subslot\");\n  if (subslot) return subslot;\n\n  const slot = selectSlotUnderCursor(ev, exercise);\n  return slot.querySelector(\".subslot\");\n}\n\nexport function selectExerciseUnderCursor(ev) {\n  return selectElementWithClass(ev, \"exercise\");\n}\n\nfunction selectElementWithClass(ev, className) {\n  const elementsBellowMouse = document.elementsFromPoint(\n    ev.clientX,\n    ev.clientY\n  );\n  for (let i = 0; i < elementsBellowMouse.length; i++) {\n    if (elementsBellowMouse[i].classList.contains(className)) {\n      return elementsBellowMouse[i];\n    }\n  }\n}\n","import { createElementWithClasses, sendRemember } from \"../dom-utils\";\nimport {\n  queryAnswer,\n  queryAreaFromInside,\n  queryContainerFromInside,\n  queryDragArea,\n  queryDropArea,\n  queryEmptySlot,\n  queryLastSlot,\n  queryParsonsContainers,\n  queryParsonsLines,\n  querySlotFromInside,\n  querySlots,\n  querySubslots,\n  selectExerciseUnderCursor,\n} from \"./queries\";\n\nexport function removeDragListeners(onDrag, onDrop) {\n  window.removeEventListener(\"dragenter\", onDrag);\n  window.removeEventListener(\"dragover\", onDrag);\n  window.removeEventListener(\"drop\", onDrop);\n}\n\nexport function addDragListeners(onDrag, onDrop) {\n  window.addEventListener(\"dragenter\", onDrag);\n  window.addEventListener(\"dragover\", onDrag);\n  window.addEventListener(\"drop\", onDrop);\n}\n\nexport function insertLineInSubslot(line, subslot) {\n  if (!subslot) return;\n\n  const slot = querySlotFromInside(subslot);\n  slot.classList.remove(\"drag-over\");\n  slot.classList.add(\"with-line\");\n  subslot.classList.remove(\"drag-over\");\n  subslot.classList.add(\"cur-indent\");\n\n  slot.appendChild(line);\n}\n\nexport function eventIsInsideExercise(ev, exercise) {\n  return selectExerciseUnderCursor(ev) === exercise;\n}\n\nexport function setCurrentSubslot(subslot, exercise) {\n  if (!subslot) return;\n\n  const slot = querySlotFromInside(subslot);\n  slot.classList.add(\"drag-over\");\n  subslot.classList.add(\"drag-over\");\n\n  querySlots(exercise).forEach((other) => {\n    if (other !== slot) other.classList.remove(\"drag-over\");\n  });\n  querySubslots(exercise).forEach((other) => {\n    if (other !== subslot) other.classList.remove(\"drag-over\");\n  });\n\n  shiftLines(slot);\n\n  const container = queryContainerFromInside(slot);\n  const containers = queryParsonsContainers(exercise);\n  resetContainers(containers, container);\n  container.classList.add(\"drag-over\");\n}\n\nexport function createSlot(area, subslotCount, additionalClass) {\n  const slot = createElementWithClasses(\"div\", [\"line-slot\"], area);\n  const classList = [\"subslot\"];\n  if (additionalClass) classList.push(additionalClass);\n  for (let i = 0; i < subslotCount; i++) {\n    createElementWithClasses(\"div\", [...classList, `subslot-${i + 1}`], slot);\n  }\n  createElementWithClasses(\"div\", [\"line-placeholder\"], slot);\n}\n\nexport function hide(line) {\n  setTimeout(() => {\n    // We need this timeout because the element is copied to\n    // be displayed as an image while dragging.\n    // The timeout postpones hiding the slot (add .dragging).\n    querySlotFromInside(line).classList.add(\"dragging\");\n  }, 0);\n}\n\nexport function cleanUpSlots(exercise) {\n  const slots = querySlots(exercise);\n  for (let slot of slots) {\n    slot.classList.remove(\"dragging\");\n    if (queryParsonsLines(slot).length === 0) {\n      slot.remove();\n    }\n  }\n}\n\nexport function resetExercise(exercise) {\n  hideAnswer(queryAnswer(exercise));\n\n  const origArea = queryDragArea(exercise);\n  const destArea = queryDropArea(exercise);\n  queryParsonsLines(destArea).forEach((line) => {\n    const slot = querySlotFromInside(line);\n    const newSlot = createElementWithClasses(\n      \"div\",\n      [\"line-slot\", \"with-line\"],\n      origArea\n    );\n    createElementWithClasses(\n      \"div\",\n      [\"subslot\", \"cur-indent\", \"single-subslot\"],\n      newSlot\n    );\n    createElementWithClasses(\"div\", [\"line-placeholder\"], newSlot);\n    newSlot.appendChild(line);\n    slot.remove();\n  });\n}\n\nexport function submitExercise(exercise) {\n  exercise.classList.remove(\"correct\");\n  exercise.classList.remove(\"wrong\");\n\n  const origArea = queryDragArea(exercise);\n  const answerArea = queryDropArea(exercise);\n\n  const lines = queryParsonsLines(answerArea);\n  let correct = lines.length > 0 && queryParsonsLines(origArea).length === 0;\n  lines.forEach((line, idx) => {\n    const slot = querySlotFromInside(line);\n\n    const correctLineNum = getLineNumber(line);\n    const isCorrectLine = correctLineNum === idx + 1;\n\n    const correctIndent = parseInt(line.dataset.indentcount);\n    const isCorrectIndent = correctIndent === getIndentCount(slot);\n\n    correct &&= isCorrectLine && isCorrectIndent;\n  });\n\n  // We need this timeout so the browser has time to reset the\n  // exercise before animating again\n  setTimeout(() => {\n    if (correct) {\n      exercise.classList.add(\"correct\");\n    } else {\n      exercise.classList.add(\"wrong\");\n    }\n  }, 0);\n  showAnswer(queryAnswer(exercise));\n\n  sendRemember(exercise, { correct });\n}\n\nfunction getLineNumber(line) {\n  return parseInt(line.querySelector(\"a\").id.split(\"-\")[2]);\n}\n\nfunction resetContainers(containers, exceptThis) {\n  containers.forEach((otherContainer) => {\n    if (otherContainer !== exceptThis) {\n      shiftLines(queryLastSlot(otherContainer));\n    }\n  });\n}\n\nfunction shiftLines(slot) {\n  if (!slot.classList.contains(\"with-line\")) return;\n\n  const area = queryAreaFromInside(slot);\n  const emptySlot = queryEmptySlot(area);\n\n  if (emptyIsBeforeRef(area, emptySlot, slot)) {\n    area.insertBefore(emptySlot, slot.nextSibling);\n  } else {\n    area.insertBefore(emptySlot, slot);\n  }\n}\n\nfunction emptyIsBeforeRef(area, emptySlot, refSlot) {\n  for (let slot of querySlots(area)) {\n    if (slot === emptySlot) return true;\n    if (slot === refSlot) return false;\n  }\n  return false;\n}\n\nfunction getIndentCount(slot) {\n  const subslot = slot.querySelector(\".subslot.cur-indent\");\n  const prefix = \"subslot-\";\n  for (let className of subslot.classList) {\n    if (className.startsWith(prefix)) {\n      const count = parseInt(className.substr(prefix.length));\n      if (count) return count - 1;\n    }\n  }\n  return 0;\n}\n\nfunction showAnswer(answer) {\n  answer.style.display = \"inherit\";\n}\n\nfunction hideAnswer(answer) {\n  answer.style.display = \"none\";\n}\n","export function createElementWithClasses(tagName, classList, parent) {\n  const el = document.createElement(tagName);\n  for (let className of classList) {\n    el.classList.add(className);\n  }\n  if (parent) {\n    parent.appendChild(el);\n  }\n  return el;\n}\n\nexport function sendRemember(element, args) {\n  const ev = new CustomEvent(\"remember\", { detail: { element, args } });\n  window.dispatchEvent(ev);\n}\n","export function initStyle() {\n  const header = document.getElementsByClassName(\"ah-header\")[0];\n  document.documentElement.style.setProperty(\n    \"--header-height\",\n    `${header.offsetHeight}px`\n  );\n\n  // We listen to the resize event\n  window.addEventListener(\"resize\", () => {\n    // We execute the same script as before\n    let vh = window.innerHeight * 0.01;\n    document.documentElement.style.setProperty(\"--vh\", `${vh}px`);\n  });\n\n  initTextArea();\n}\n\nfunction initTextArea() {\n  const growers = document.querySelectorAll(\".grow-wrap\");\n\n  growers.forEach((grower) => {\n    const textarea = grower.querySelector(\"textarea\");\n    textarea.addEventListener(\"input\", () => {\n      grower.dataset.replicatedValue = textarea.value;\n    });\n  });\n}\n"],"names":["$9GMMU","parcelRequire","$466c3b8b672eb212$var$onLoad","initTabbedPlugin","rememberCallbacks","window","addEventListener","e","element","detail","remember","match","callback","args","$iGX1C","initStyle","$iN7fV","initMenuPlugin","$7zxXP","initProgressPlugin","$7srJm","initParsonsPlugin","$jc3XN","initExercisePlugin","$kUxQr","initFooterPlugin","document","readyState","$70dde18f4fcabc2d$export$77f214cb8b2fa7cf","checkScroll","target","matches","scrollWidth","clientWidth","classList","remove","type","add","scrollLeft","tabChange","selected","closest","querySelector","updated","contains","offsetX","offsetWidth","sib","nextSibling","tagName","sib1","previousSibling","click","onResize","ResizeObserver","entries","forEach","entry","querySelectorAll","el","observe","$70dde18f4fcabc2d$var$tabOverflow","tabs","tab","id","scrollIntoView","block","inline","behavior","$70dde18f4fcabc2d$var$tabScroll","$lw4dE","$583625d5df5717d8$export$5a899869c1d74f2d","push","$fHWZd","saveAndSendData","getValue","$fa9fdbfe61baf28a$var$getKey","elOrKey","docAddr","location","pathname","slash","endsWith","$fa9fdbfe61baf28a$export$80746c6bc6142fc8","value","key","localStorage","$fa9fdbfe61baf28a$export$bf7199a9ebcb84a9","getItem","$b6f8a0a5cc3387e2$export$e52316189c9bf17c","setValue","$dae26e7098d8b2ac$var$navClass","$dae26e7098d8b2ac$var$menuOpenedKey","$dae26e7098d8b2ac$export$5ece4b232c52e95b","nav","getElementsByClassName","navContainer","menuBtns","closeMenuBtn","openedPref","$dae26e7098d8b2ac$var$prefersOpenMenu","$dae26e7098d8b2ac$var$menuIsOverContent","$dae26e7098d8b2ac$var$openMenu","menuBtn","event","stopPropagation","$dae26e7098d8b2ac$var$toggleMenu","togglableItems","item","toggle","tocItems","item1","$dae26e7098d8b2ac$var$closeMenu","innerWidth","$iy2zE","getBreakpoint","$dae26e7098d8b2ac$var$getNav","$d80d661e655a49cc$export$1eb095b00b926404","name","defaultVal","parseInt","getComputedStyle","documentElement","getPropertyValue","$df92365c8b8d32a9$export$e2b8f000abeb3411","$df92365c8b8d32a9$var$matchTextExercises","$df92365c8b8d32a9$var$rememberTextExercise","$df92365c8b8d32a9$var$matchChoiceExercises","$df92365c8b8d32a9$var$rememberChoiceExercise","$df92365c8b8d32a9$var$matchSelfProgressExercises","$df92365c8b8d32a9$var$rememberSelfProgressExercise","$hxUu7","queryTextExercises","prevAnswer","input","queryTextInputs","growWrap","dataset","replicatedValue","querySubmitBtn","queryChoiceExercises","option","queryOption","alternative","queryParentAlternative","setAttribute","submitBtn","disabled","querySelfProgressExercises","textElement","choices","queryOptions","correctIdx","queryCorrectOptionIdx","choice","checked","$cc6155705ad083f9$export$5e00f5be99befdf7","$cc6155705ad083f9$export$ae49a54e6b565a2f","$cc6155705ad083f9$export$97f324c222a31a6","$cc6155705ad083f9$export$6a1d7e97cf42583","$cc6155705ad083f9$export$9a8e3100474fe331","$cc6155705ad083f9$export$f310c88639396fe","alternativeSet","getAttribute","$cc6155705ad083f9$export$5217649b78e71871","$cc6155705ad083f9$export$4b74a16db8ac6d0","$cc6155705ad083f9$export$9dc641c4e33b64f9","$f3934a8122c75ea4$export$68c614734113463a","className","openedSection","nextElementSibling","$f3934a8122c75ea4$var$initFootnotes","container","contentRect","getBoundingClientRect","footnoteLinks","footnoteLink","$f3934a8122c75ea4$var$initFootnote","footnoteRef","previousElementSibling","$f3934a8122c75ea4$var$findRef","note","noteId","substring","getElementById","$f3934a8122c75ea4$var$findNote","footnoteCard","createElement","appendChild","$f3934a8122c75ea4$var$setupCard","footnoteCloseBtn","innerHTML","insertBefore","firstChild","$f3934a8122c75ea4$var$setupCloseBtn","footnoteContainer","parentElement","replaceChild","$f3934a8122c75ea4$var$setupContainer","openedClass","preventDefault","$f3934a8122c75ea4$var$setupCallbacks","left","distX","right","style","setProperty","$f3934a8122c75ea4$var$setCustomProps","$2tIiG","$56e0a8a5cdac7996$export$26590a2e6438f2cf","queryParsonsExercises","$56e0a8a5cdac7996$var$registerListeners","correct","exercise","destArea","queryDropArea","origArea","queryDragArea","draggedLine","onDrag","ev","$9whkM","eventIsInsideExercise","setCurrentSubslot","selectSubslotUnderCursor","onDrop","removeDragListeners","insertLineInSubslot","cleanUpSlots","onDragStart","addDragListeners","createSlot","hide","queryResetButton","resetExercise","querySubmitButton","submitExercise","queryParsonsLines","line","$1ce0a7552657bb18$export$5e69f32ab810311c","$1ce0a7552657bb18$export$858b8b1f5332fddc","$1ce0a7552657bb18$export$f7640a53644bf643","$1ce0a7552657bb18$export$32fdf0c2d33cbc4d","$1ce0a7552657bb18$export$f7fc258b38967b3f","$1ce0a7552657bb18$export$ae81c58063bf4be1","$1ce0a7552657bb18$export$39d4c1a5da4c4935","$1ce0a7552657bb18$export$a38a134e2e74a7ea","$1ce0a7552657bb18$export$522c0586a49a1b74","$1ce0a7552657bb18$export$6579cf925332c837","$1ce0a7552657bb18$export$b8567be3d03c6b7a","slot","$1ce0a7552657bb18$export$cc14c54cf760e85b","$1ce0a7552657bb18$export$98844baaeb3ca750","$1ce0a7552657bb18$export$9fa26b26f2a2fdeb","$1ce0a7552657bb18$export$a1b08fd17c086c9b","$1ce0a7552657bb18$export$f6bf086330cdc435","subslot","$1ce0a7552657bb18$var$selectElementWithClass","$1ce0a7552657bb18$export$8c264350f8d18d4d","$1ce0a7552657bb18$export$18a051c82a3d5f03","$1ce0a7552657bb18$export$41087eb46d3cbd97","elementsBellowMouse","elementsFromPoint","clientX","clientY","i","length","$6fdZM","$6ee48c6eb15f34ac$export$3d7e6e0f3eb13452","removeEventListener","$6ee48c6eb15f34ac$export$14242c9a92c94f8c","$6ee48c6eb15f34ac$export$23b48112c16d5abf","querySlotFromInside","$6ee48c6eb15f34ac$export$789b8722e87b603a","selectExerciseUnderCursor","$6ee48c6eb15f34ac$export$7ae5d9126092bcf6","querySlots","other","querySubslots","$6ee48c6eb15f34ac$var$shiftLines","queryContainerFromInside","containers","exceptThis","otherContainer","queryLastSlot","$6ee48c6eb15f34ac$var$resetContainers","queryParsonsContainers","$6ee48c6eb15f34ac$export$e88b45bda5c13eb9","area","subslotCount","additionalClass","createElementWithClasses","$6ee48c6eb15f34ac$export$fe8985bb6374093c","setTimeout","$6ee48c6eb15f34ac$export$ce7a71859caa1131","slots","$6ee48c6eb15f34ac$export$bb71a2489fdf7c72","queryAnswer","display","newSlot","$6ee48c6eb15f34ac$export$5e2e2e1e8fac50c3","answerArea","lines","idx","correctLineNum","split","$6ee48c6eb15f34ac$var$getLineNumber","isCorrectLine","isCorrectIndent","indentcount","prefix","startsWith","count","substr","$6ee48c6eb15f34ac$var$getIndentCount","sendRemember","queryAreaFromInside","emptySlot","queryEmptySlot","refSlot","$6ee48c6eb15f34ac$var$emptyIsBeforeRef","$48bf0000823d988c$export$9cd58fc5efb880ff","parent","$48bf0000823d988c$export$4aff5dc54d739f09","CustomEvent","dispatchEvent","$d9b9ef696c78ca9e$export$620f5ca74a68596","header","offsetHeight","vh","innerHeight","grower","textarea"],"version":3,"file":"active-handout.c32954bc.js.map"}