@use "../abstracts/variables" as *;

.admonition.exercise {
  --clr-background: var(--clr-admonition-exercise-background);
  --clr-text: var(--clr-admonition-exercise-text);
  --clr-title: var(--clr-admonition-exercise-title);
  --clr-bullet: var(--clr-admonition-exercise-bullet);

  &,
  & * {
    transition: background 0.1s ease-in-out;
  }

  &.done {
    --clr-background: var(--clr-admonition-disabled-background);
    --clr-text: var(--clr-admonition-disabled-text);
    --clr-title: var(--clr-admonition-disabled-title);
    --clr-bullet: var(--clr-admonition-disabled-bullet);
  }

  form {
    display: grid;
  }
}

.admonition.answer {
  margin-top: (2 * $admonition-extra-block);
  margin-bottom: (-$admonition-extra-block);
  border-top-left-radius: 0;
  border-top-right-radius: 0;
}

.form-elements {
  display: flex;
  flex-direction: column;
  counter-reset: alternative-counter;
  margin-bottom: $admonition-extra-block;

  input[type="submit"] {
    display: flex;
    align-self: flex-end;
    justify-content: center;
    align-items: center;

    margin-top: $admonition-extra-block;
    padding: 0.5rem 1rem;
    border-radius: 0.25rem;

    font-weight: bold;
  }

  .alternative-set {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
  }

  .alternative {
    --clr-text: var(--clr-text-default);
    --selection-color: var(--clr-blue-highlight-2);

    display: grid;
    grid-template-columns: auto 1fr;
    align-items: center;
    background: var(--clr-admonition-default-background);
    padding-right: $admonition-extra-inline;
    counter-increment: alternative-counter;
    border-radius: $border-radius;
    transition: transform 0.1s ease-in-out;

    &.selected {
      outline: 0.3rem solid var(--selection-color);
    }

    &:hover,
    &:active,
    &:focus {
      cursor: pointer;
      transform: scale(1.01);
    }

    &.correct {
      background: var(--clr-success-primary-2);

      &::before {
        background: var(--clr-success-primary-5);
      }

      &.selected {
        outline-color: var(--clr-success-primary-4);
      }
    }

    &.wrong {
      background: var(--clr-fail-primary-2);

      &::before {
        background: var(--clr-fail-primary-6);
      }

      &.selected {
        outline-color: var(--clr-fail-primary-5);
      }
    }

    input[type="radio"] {
      display: none;
    }

    .content {
      margin-top: 0;
      padding-block: $admonition-extra-block;
    }

    &::before {
      content: counter(alternative-counter, upper-alpha);
      display: inline-grid;
      place-items: center;

      background: var(--clr-blue-highlight-3);
      padding: $admonition-extra-block;
      margin-right: $admonition-extra-block;
      border-radius: $border-radius 0 0 $border-radius;
      width: calc(2 * $admonition-extra-block + 1em);
      height: 100%;

      color: white;
      font-weight: 900;
    }
  }
}
